<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChinaEx 制省等级</title>
    <meta name="description" content="ChinaEx 制省等级，记录您的中国旅行足迹！">
    <meta property="og:title" content="ChinaEx 制省等级">
    <meta property="og:description" content="记录您的中国旅行足迹，看看您的制省等级！">
    <link rel="stylesheet" href="main.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>
<body>
    <!-- 导航栏 -->
    <div class="nav-group">
        <span class="link level-display">等级：<span id="level-text">0</span></span>
    </div>
    <div class="map-wrapper">
        <!-- 彩色填充画布 -->
        <canvas id="colorCanvas"></canvas>
        <!-- 掩膜画布（隐藏，用于区域识别） -->
        <canvas id="maskCanvas" class="hidden"></canvas>
        <!-- 边界 SVG（原始路径，保持与截图一致） -->
        <svg id="svg" xmlns="http://www.w3.org/2000/svg" viewBox="-11.1 -3.1 47.2 39.2">
            <!-- 背景 -->
            <rect id="background" x="-11.1" y="-3.1" width="47.2" height="39.2" fill="#9dc3fb"/>
            <!-- 标题 -->
            <text id="title" x="12" y="-0.5" font-size="2" font-weight="bold" fill="#333" text-anchor="middle">ChinaEx 制省等级</text>
            <text id="level" x="12" y="1.5" font-size="1.2" fill="#e84c3d" text-anchor="middle" font-weight="bold">Level: 0</text>
            <!-- 使用原始路径绘制轮廓和省界 -->
            <g id="borders" stroke="#c41e3a" stroke-width="0.2" fill="#ffffff" pointer-events="none">
                <path id="main-path" d="M 30 14 L 28.09 16.716 L 30 21 L 27 28 L 20 32 L 14 31 L 9 33 L 6 29 L 7 27 L 6 25 L -2 24 L -9 19 L -9 14 L -11 12 L -10 7 L -8 7 L 0 0 L 3 0 L 8 8 L 15 10 L 24 5 L 22 4 L 25 -2 L 28 -3 L 33 1 L 35 1 L 36 4 L 35 5 L 35 7 L 31 11 L 29 10 L 26 12 L 27 14 L 28 13 L 30 14 Z M 30 28 L 29 31 L 30 32 L 31 29 L 30 28 M 19 34 L 17 35 L 18 36 L 20 35 L 19 34 M 8 8 L 1 14 L -9 14 M 1 14 L 0 16 L 0 16 L 0 16 M 2 19 L 0 16 M 6 20 L 2 19 M 7 19 L 6 20 M 8 24 L 6 25 M 8 24 L 6 20 M 7 19 L 10 20 M 11 18 L 10 20 M 12 15 L 11 18 M 8 13 L 12 15 M 6 14 L 8 13 M 3.739 11.663 L 6 14 M 8 8 L 9 11 M 11 12 L 9 11 M 12 13 L 11 12 M 12 13 L 12 13 M 14 13 L 12 13 M 15 16 L 14 13 M 16 13 L 14 13 M 17 16 M 17 16 L 15 16 M 17 18 L 17 16 M 16 19 L 17 18 M 16 20 L 16 19 M 14 20 L 16 20 M 11 18 L 14 20 M 17 22 M 16 24 L 17 22 M 14 24 L 16 24 M 14 26 L 14 24 M 15 27 L 14 26 M 11 29 L 15 27 M 25 -2 L 28 -1 M 29 4 L 29 4 L 28 -1 M 35 6 L 29 4 M 28 6 L 29 4 M 30 7 L 28 6 M 29 8 L 30 7 M 33 9 L 29 8 M 27 10 L 29 8 M 27.549 10.943 L 27 10 M 25 9 L 27 10 M 22 12 L 25 9 M 22 16 L 22 12 M 19 14 L 22 12 L 19 14 L 19 14 M 22 16 M 22 16 M 24 16 L 22 16 L 22 16 L 22 16 M 23 20 L 23 22 M 25 19 L 23 20 L 25 19 M 24 18 M 26 12 L 26 12 M 26 12 V 11 L 26 11 M 25 11 L 26 11 M 25 12 L 25 11 M 25 12 L 26 12 M 26 12 L 24 16 M 24 18 L 24 16 L 24 18 L 25 19 L 27 21 L 24 18 L 28.028 16.692 M 19 14 L 17 16 L 16 13 M 19 22 L 17 22 L 16 20 M 8 24 L 11 29 M 13 28 L 14 31 M 24 12 L 25 12 M 25 13 L 25 12 M 24 13 L 24 13 L 25 13 M 24 12 L 24 13 M 19 22 L 19 14 M 19 18 L 22 16 M 19 21 L 21 22 M 21 22 L 23 22 M 27 21 L 30 21 M 26 24 L 26 24 L 27 21 L 27 21 M 27.874 25.923 L 26 24 M 23 22 L 24 24 L 24 24 M 24 24 L 26 24 M 19 21 L 19 23 M 18 24 L 19 23 L 19 23 M 18 24 L 19 25 M 17 25 L 14 26 M 19 25 L 17 25 M 24 24 L 19 25 M 27 25 L 23 28 M 24.569 29.413 L 23 28 M 21 28 L 23 28 M 18.038 31.7 L 21 28 M 22.011 24.511 L 21 28 M 19 25 L 19 28 L 19 28 M 19 28 L 21 28 M 13.581 29.84 L 19 28 M 23 31 L 24 31 L 24 32 L 23 32 L 23 31 M 21 32 L 22 32 L 22 33 L 21 33 L 21 32 M 29.498 20.017 L 29 21"/>
            </g>
            <!-- 作者名 -->
            <text id="author" x="12" y="38" font-size="1" fill="#666" text-anchor="middle" cursor="pointer"></text>
        </svg>
        <!-- 透明点击层 -->
        <div id="clickLayer"></div>
    </div>

    <!-- 等级选择表单 -->
    <div id="form" class="form">
        <div class="title">
            <span class="lang"></span>
            <span class="icon-group">
                <a class="icon search" href="#" target="_blank" title="搜索">
                    <i class="fas fa-search"></i>
                </a>
                <span class="icon close" id="close">
                    <i class="fas fa-times"></i>
                </span>
            </span>
        </div>
        <label class="label level red" data-value="5">5 - 住居（居住过）</label>
        <label class="label level orange" data-value="4">4 - 宿泊（住宿过）</label>
        <label class="label level yellow" data-value="3">3 - 訪問（游玩过）</label>
        <label class="label level green" data-value="2">2 - 接地（休息、换乘等）</label>
        <label class="label level blue" data-value="1">1 - 通過（路过）</label>
        <label class="label level white" data-value="0">0 - 没去过</label>
    </div>

    <!-- 底部操作按钮 -->
    <div class="share">
        <button class="btn" id="saveAsImage">
            <i class="fas fa-download"></i> 保存图片
        </button>
        <button class="btn" id="setName">
            <i class="fas fa-user"></i> 设置名字
        </button>
    </div>

    <!-- 图例 -->
    <div class="legend">
        <div class="legend-title">图例</div>
        <div class="legend-item"><span class="legend-color red"></span>5 - 居住过</div>
        <div class="legend-item"><span class="legend-color orange"></span>4 - 住宿过</div>
        <div class="legend-item"><span class="legend-color yellow"></span>3 - 游玩过</div>
        <div class="legend-item"><span class="legend-color green"></span>2 - 休息/换乘</div>
        <div class="legend-item"><span class="legend-color blue"></span>1 - 路过</div>
        <div class="legend-item"><span class="legend-color white"></span>0 - 没去过</div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="main.js"></script>
</body>
</html>
